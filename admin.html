<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - The Academic Care</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  h1, h2 { text-align: center; }
  .tabs button { margin: 5px; }
  .subtab { margin-left: 20px; margin-top: 10px; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  table, th, td { border: 1px solid #aaa; }
  th, td { padding: 5px; text-align: left; }
  .tuition-btn { margin-right: 5px; }
</style>
</head>
<body>
<h1>The Academic Care</h1>
<h2>Academic Year 2025 - Admin Panel</h2>

<button id="logoutBtn">Logout</button>

<div class="tabs">
  <button onclick="showTab('home')">Home</button>
  <button onclick="showTab('classes')">Classes</button>
  <button onclick="showTab('registrations')">Registration Requests</button>
  <button onclick="showTab('breaks')">Break Requests</button>
</div>

<div id="tabContent">
  <div id="home">Welcome to Admin Panel</div>

  <div id="classes" style="display:none;">
    <h3>Classes</h3>
    <div id="classTabs"></div>
    <div id="classStudents"></div>
  </div>

  <div id="registrations" style="display:none;">
    <h3>Registration Requests</h3>
    <div id="registrationRequests"></div>
  </div>

  <div id="breaks" style="display:none;">
    <h3>Break Requests</h3>
    <div id="breakRequestsContainer"> <!-- to implement break approvals --> </div>
  </div>
</div>

<script type="module">
import { loadRegistrations, loadClassStudents, logout } from "./admin.js";

// Show tabs
function showTab(tabName){
  document.querySelectorAll("#tabContent > div").forEach(div => div.style.display = "none");
  document.getElementById(tabName).style.display = "block";

  if(tabName === "classes"){
    const container = document.getElementById("classTabs");
    container.innerHTML = "";
    for(let i=6;i<=12;i++){
      const btn = document.createElement("button");
      btn.textContent = `Class ${i}`;
      btn.onclick = () => loadClassStudents(i);
      container.appendChild(btn);
    }
  }
}

document.getElementById("logoutBtn").addEventListener("click", logout);

// Initial Load
loadRegistrations();
</script>
</body>
</html>
